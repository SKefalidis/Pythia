[
    {
        "question": "List basic information (title, publication date, path, or URL where the data is available, data volume in bytes) about datasets published in 2023 or later by user 'gmarinos'.",
        "sparql": "SELECT ?dataset ?res ?name ?date ?path ?size WHERE { ?dataset a <http://www.w3.org/ns/dcat#Dataset> . ?dataset dcat:distribution ?res . ?dataset dct:creator <http://stelar-project.eu/klms#user/gmarinos> . ?res dct:title ?name . ?res dct:issued ?date . ?res dcat:accessURL ?path . ?res dcat:byteSize ?size . FILTER (?date >= \"2023-01-01T00:00:01\"^^xsd:dateTime) }"
    },
    {
        "question": "Search for time series data covering the entire year 2023 and (based on profile information) focus on time series of absolute energy above 500 and having a longest subsequence above their mean that spans more than 100 consecutive time points.",
        "sparql": "SELECT ?dataset ?start ?end ?abs_energy ?len_above_mean WHERE {  ?dataset a <http://www.w3.org/ns/dcat#Dataset>  . ?dataset dcat:distribution ?prof .  ?prof klms:contains ?attr1 .  ?attr1 a klms:TemporalAttribute .  ?attr1 dcat:startDate ?start .  ?attr1 dcat:endDate ?end .  ?prof klms:contains ?attr2 .  ?attr2 a klms:SeriesAttribute .  ?attr2 klms:absEnergy ?abs_energy .  ?attr2 klms:lenAboveMean ?len_above_mean .  FILTER (?start >= \"2023-01-01T00:00:00Z\"^^xsd:dateTime &&     ?end <= \"2023-12-31T23:59:59Z\"^^xsd:dateTime &&    ?abs_energy > 200 && ?len_above_mean > 30)}"
    },
    {
        "question": "Find datasets having spatial extent within the rectangle POLYGON((12.362 45.39,12.485 45.39,12.485 45.576,12.362 45.576,12.362 45.39)) that have been updated after 2023-01-01.",
        "sparql": "SELECT ?dataset ?res ?date_modified ?bbox WHERE {  ?dataset a <http://www.w3.org/ns/dcat#Dataset> . ?dataset dct:spatial ?loc .  ?dataset dcat:distribution ?res .  ?dataset dct:issued ?date_issued .  ?dataset dct:modified ?date_modified .  ?loc dcat:bbox ?bbox .  FILTER ((geof:sfWithin(?bbox, \"POLYGON((12.362 45.39,12.485 45.39,12.485 45.576,12.362 45.576,12.362 45.39))\"^^geo:wktLiteral))   && (?date_modified > \"2023-01-01T00:00:00Z\"^^xsd:dateTime))}"
    },
    {
        "question": "Find raster images with cloud coverage < 10% based on their extracted profile information.",
        "sparql": " SELECT ?dataset ?raster_name ?band_name ?start_date ?width ?height ?res_spatial ?cloud_coverage  WHERE { ?dataset a <http://www.w3.org/ns/dcat#Dataset> . ?dataset dcat:distribution ?prof .   ?prof klms:profileURL ?url .   ?prof a klms:RasterCollection .   ?prof klms:contains ?ras .   ?ras dct:title ?raster_name .   ?ras klms:height ?height .   ?ras klms:width ?width .   ?ras dcat:spatialResolutionInMeters ?res_spatial .   ?ras dct:spatial ?coverage_spatial .   ?ras dct:temporal ?time_extent .   ?time_extent dcat:startDate ?start_date .   ?time_extent dcat:endDate ?end_date .   ?band dct:isPartOf ?ras .   ?band a klms:BandAttribute .   ?band dct:title ?band_name .   ?band klms:valueDistribution ?distr_values .   ?band klms:noDataDistribution ?distr_no_data .   ?distr_no_data klms:contains ?no_data_category .   ?no_data_category klms:name ?no_data_key .   ?no_data_category klms:percentage ?cloud_coverage .   FILTER (?no_data_key = \"clouds\" &&      ?cloud_coverage < \"10.0\"^^xsd:double) } ORDER BY ASC(?no_data_value)"
    },
    {
        "question": "Datasets given as INPUT in tasks executed in workflows.",
        "sparql": " SELECT ?dataset ?resource ?workflowExec ?taskExec ?start_date ?task_state WHERE {   ?dataset a <http://www.w3.org/ns/dcat#Dataset> . ?taskExec a klms:TaskExecution . ?taskExec dct:isPartOf ?workflowExec . ?workflowExec a klms:WorkflowExecution . ?taskExec dcat:startDate ?start_date .   ?taskExec klms:state ?task_state .   ?taskExec klms:hasInput ?task_input .   ?task_input klms:input ?resource .   ?dataset dcat:distribution ?resource . }"
    },
    {
        "question": "Datasets issued as OUTPUT from tasks executed in workflows.",
        "sparql": " SELECT ?dataset ?resource ?workflowExec ?taskExec ?start_date ?end_date ?task_state WHERE {  ?dataset a <http://www.w3.org/ns/dcat#Dataset> .  ?taskExec a klms:TaskExecution . ?workflowExec a klms:WorkflowExecution . ?taskExec dct:isPartOf ?workflowExec .   ?taskExec dcat:startDate ?start_date .   ?taskExec dcat:endDate ?end_date .   ?taskExec klms:state ?task_state .   ?taskExec klms:hasOutput ?task_input .   ?task_input klms:output ?resource .   ?dataset dcat:distribution ?resource . }"
    },
    {
        "question": "Given the file dbee0078-f053-404a-b09d-bde29eaf5521, find all task executions to which it was given as INPUT.",
        "sparql": " SELECT ?resource ?workflowExec ?taskExec ?start_date ?end_date ?task_state WHERE {   ?taskExec dct:isPartOf ?workflowExec . ?taskExec a klms:TaskExecution   ?taskExec dcat:startDate ?start_date .   ?taskExec dcat:endDate ?end_date .   ?taskExec klms:state ?task_state .   ?taskExec klms:hasInput ?task_input .   ?task_input klms:input <http://stelar-project.eu/klms#resource/dbee0078-f053-404a-b09d-bde29eaf5521> . }"
    },
    {
        "question": "Find the task execution that has issued the file 026ca7aa-a417-4822-be63-7e855026c8d9 as OUTPUT.",
        "sparql": " SELECT ?resource ?workflowExec ?taskExec ?start_date ?end_date ?task_state WHERE {   ?taskExec dct:isPartOf ?workflowExec .   ?taskExec dcat:startDate ?start_date .   ?taskExec dcat:endDate ?end_date .   ?taskExec klms:state ?task_state .   ?taskExec klms:hasOutput ?task_output .   ?task_output klms:output ?resource .   ?resource dct:identifier \"026ca7aa-a417-4822-be63-7e855026c8d9\" . }"
    },
    {
        "question": "Given the data source identifier ce4ebc61-19b0-49e8-aa0e-99022b5278ec, find all workflow executions to which it was given as INPUT to a task execution.",
        "sparql": " SELECT ?resource ?taskExec ?workflowExec ?workflow_state ?start_date ?end_date  WHERE {   ?taskExec dct:isPartOf ?workflowExec .   ?workflowExec klms:state ?workflow_state .   ?workflowExec dcat:startDate ?start_date .   ?workflowExec dcat:endDate ?end_date .   ?taskExec klms:hasInput ?task_input .   ?task_input klms:input ?resource .   ?dataset dcat:distribution ?resource .   ?dataset dct:identifier \"ce4ebc61-19b0-49e8-aa0e-99022b5278ec\" . } "
    },
    {
        "question": "Find the workflow execution that has issued any of the files of 1b3cebbe-0271-437f-be9a-92dc374c536b as OUTPUT of a task execution.",
        "sparql": " SELECT ?resource ?taskExec ?workflowExec ?workflow_state ?start_date ?end_date  WHERE {   ?taskExec dct:isPartOf ?workflowExec .   ?workflowExec klms:state ?workflow_state .   ?workflowExec dcat:startDate ?start_date .   ?workflowExec dcat:endDate ?end_date .   ?taskExec klms:hasOutput ?task_output .   ?task_output klms:output ?resource .   ?dataset dcat:distribution ?resource .   ?dataset dct:identifier \"1b3cebbe-0271-437f-be9a-92dc374c536b\" . }"
    },
    {
        "question": "List all task executions included in any executions of workflows with the tag \"use-case B2\".",
        "sparql": " SELECT ?workflowExec ?taskExec ?task_state ?start_date ?end_date WHERE {   ?taskExec dct:isPartOf ?workflowExec .   ?taskExec klms:state ?task_state .   ?taskExec dcat:startDate ?start_date .   OPTIONAL { ?taskExec dcat:endDate ?end_date } .   ?workflowExec klms:hasTags ?kvpair .    ?kvpair  klms:key ?key .   ?kvpair klms:value ?value .   FILTER (regex(?key, \"use-case\") && regex(?value, \"B2\")) }"
    },
    {
        "question": "List all executions of entity extraction tasks",
        "sparql": " SELECT ?taskExec ?state ?start_date ?end_date ?key ?value WHERE {   ?taskExec klms:state ?state .   ?taskExec dcat:startDate ?start_date .   OPTIONAL { ?taskExec dcat:endDate ?end_date . }   ?taskExec klms:hasTags ?kvpair .    ?kvpair  klms:key ?key.   ?kvpair klms:value ?value .   FILTER (regex(?value, \"entity_extraction\")) }"
    },
    {
        "question": "Metrics issued by the task execution {6d321fd2-3b40-48ee-8e74-697c8e0c4bb5}",
        "sparql": " SELECT ?taskExec ?metric ?value ?timestamp WHERE {   ?taskExec  dct:identifier \"6d321fd2-3b40-48ee-8e74-697c8e0c4bb5\" .   ?taskExec klms:hasMetrics ?kvpair .    ?kvpair  klms:key ?metric.   ?kvpair klms:value ?value .   ?kvpair dct:issued ?timestamp . } "
    },
    {
        "question": "Parameters specified for \"6d321fd2-3b40-48ee-8e74-697c8e0c4bb5\",",
        "sparql": " SELECT ?taskExec ?parameter ?value WHERE {   ?taskExec  dct:identifier \"6d321fd2-3b40-48ee-8e74-697c8e0c4bb5\" .   ?taskExec klms:hasParameters ?kvpair .    ?kvpair  klms:key ?parameter.   ?kvpair klms:value ?value . } "
    },
    {
        "question": "List executions of task \"entity_extraction\" in workflows that involve datasets published by organization \"Agroknow\" and issued after 2024-02-01.",
        "sparql": " SELECT ?taskExec ?state ?start_date ?end_date  WHERE {   ?taskExec a klms:TaskExecution .   ?taskExec dct:isPartOf ?workflowExec .   ?workflowExec a klms:WorkflowExecution .   ?taskExec klms:state ?state .   ?taskExec klms:hasTags ?kvpair .    ?kvpair  klms:key ?key.   ?kvpair klms:value ?value .   ?taskExec dcat:startDate ?start_date .   OPTIONAL { ?taskExec dcat:endDate ?end_date } .   ?taskExec klms:hasInput ?task_input .   ?task_input klms:input ?resource .   ?resource dct:issued ?input_issued .   ?dataset dcat:distribution ?resource .   ?dataset dct:publisher ?pub .   ?pub foaf:name \"Agroknow\" .   FILTER (regex(?value, \"entity_extraction\") && ?input_issued > \"2024-02-01T00:00:00Z\"^^xsd:dateTime) }"
    },
    {
        "question": "Provide a list of all datasets released by the United States Geological Survey in 2023.",
        "sparql": "SELECT * { ?dataset a dcat:Dataset . ?dataset dct:publisher <http://stelar-project.eu/klms#organization/UnitedStatesGeologicalSurvey> . ?dataset <http://purl.org/dc/terms/issued> ?time . FILTER (?time > \"2023-01-01T00:00:00.0Z\"^^xsd:dateTime) FILTER (?time < \"2023-12-31T23:59:59.0Z\"^^xsd:dateTime) } "
    },
    {
        "question": " Fetch all datasets that were updated after May 1, 2023.",
        "sparql": "SELECT * { ?c_dataset_13 a <http://www.w3.org/ns/dcat#Dataset> . ?c_dataset_13 <http://purl.org/dc/terms/modified> ?time . FILTER (?time > \"2023-05-01T23:59:59.0Z\"^^xsd:dateTime) } "
    },
    {
        "question": " Obtain all datasets with a file size exceeding 1 MB.",
        "sparql": "SELECT ?c_dataset_13 { ?c_dataset_13 a <http://www.w3.org/ns/dcat#Dataset>. ?c_dataset_13 dcat:distribution ?distribution . ?distribution dcat:byteSize ?size . FILTER (?size > 1000000) } "
    },
    {
        "question": " Retrieve all datasets with a spatial extent that contains the lakes of Greece.",
        "sparql": "SELECT ?dataset { ?dataset a <http://www.w3.org/ns/dcat#Dataset>. ?dataset dct:spatial ?d_spatial . ?d_spatial dcat:bbox ?d_box . <http://stelar-project.eu/klms#dataset/cf0c3c59-fc41-48c9-a529-6b9feff42991> dct:spatial ?g_spatial . ?g_spatial dcat:bbox ?g_box FILTER (geof:sfContains(?d_box, ?g_box)) } "
    },
    {
        "question": " How many datasets are marked with the keyword \"climate change\"?",
        "sparql": "SELECT (COUNT (DISTINCT ?dataset) as ?C) { ?dataset a <http://www.w3.org/ns/dcat#Dataset>. ?dataset dcat:keyword ?keyword . FILTER(CONTAINS(LCASE(STR(?keyword)), \"climate change\")) } "
    },
    {
        "question": " List all workflow executions that started after 2024-01-01.",
        "sparql": "SELECT ?workflowExec ?start_date WHERE { ?workflowExec a klms:WorkflowExecution ; dcat:startDate ?start_date . FILTER (?start_date > \"2024-01-01T00:00:00\"^^xsd:dateTime) } ORDER BY DESC(?start_date) "
    },
    {
        "question": " Find all task executions with the state \"failed\" and their corresponding workflow executions.",
        "sparql": "SELECT ?taskExec ?workflowExec ?start_date WHERE { ?taskExec a klms:TaskExecution ; klms:state \"failed\" ; dct:isPartOf ?workflowExec ; dcat:startDate ?start_date . } "
    },
    {
        "question": " List all users with the role \"admin\".",
        "sparql": "SELECT ?user ?accountName WHERE { ?membership org:member ?user ; org:role ?role . ?role klms:roleSpecs \"admin\" . ?user foaf:accountName ?accountName . } "
    },
    {
        "question": " Which is the last published dataset?",
        "sparql": "SELECT ?dataset ?date WHERE { ?dataset dct:publisher ?org ; dct:issued ?date . } ORDER BY DESC (?date) LIMIT 1 "
    },
    {
        "question": " List tabular datasets with >1000 rows.",
        "sparql": "SELECT ?dataset ?tabular ?numRows WHERE { ?dataset dcat:distribution ?tabular . ?tabular a klms:Tabular ; klms:numRows ?numRows . FILTER (?numRows > 1000) } "
    },
    {
        "question": " Which task executions have computed an f1_macro score?",
        "sparql": "SELECT ?taskExec WHERE { ?taskExec klms:hasMetrics ?metric . ?metric klms:key \"f1_macro\" . } "
    },
    {
        "question": " List users who created both datasets and workflows.",
        "sparql": "SELECT ?user ?accountName WHERE { ?user foaf:accountName ?accountName . FILTER EXISTS { ?dataset dct:creator ?user . } FILTER EXISTS { ?workflow dct:creator ?user . } } "
    },
    {
        "question": " List task executions that started but never completed.",
        "sparql": "SELECT ?taskExec ?start_date WHERE { ?taskExec a klms:TaskExecution ; dcat:startDate ?start_date . FILTER NOT EXISTS { ?taskExec dcat:endDate ?end_date } } "
    },
    {
        "question": " Retrieve datasets with distributions in both CSV and JSON formats.",
        "sparql": "SELECT ?dataset WHERE { ?dataset dcat:distribution ?csv_dist . ?csv_dist dct:format \"CSV\" . ?dataset dcat:distribution ?json_dist . ?json_dist dct:format \"JSON\" . } "
    },
    {
        "question": " List users who have not created any workflow executions.",
        "sparql": "SELECT ?user ?accountName WHERE { ?user foaf:accountName ?accountName . FILTER NOT EXISTS { ?workflow dct:creator ?user . } } "
    },
    {
        "question": " List organizations with more than a hundred published datasets.",
        "sparql": "SELECT ?org ?orgName (COUNT(?dataset) AS ?datasetCount) WHERE { ?dataset dct:publisher ?org . ?org foaf:name ?orgName . } GROUP BY ?org ?orgName HAVING (COUNT(?dataset) > 100) "
    },
    {
        "question": " Which datasets have been modified once in 2024?",
        "sparql": "SELECT ?dataset (COUNT(?modDate) AS ?modCount) WHERE { ?dataset dct:modified ?modDate . FILTER (?modDate >= \"2024-01-01T00:00:00\"^^xsd:dateTime && ?modDate <= \"2024-12-31T23:59:59\"^^xsd:dateTime) } GROUP BY ?dataset HAVING (COUNT(?modDate) = 1) "
    },
    {
        "question": " Show me RDF datasets with at most 50 classes.",
        "sparql": "SELECT ?dataset ?rdfGraph ?numClasses WHERE { ?dataset dcat:distribution ?rdfGraph . ?rdfGraph a klms:RDFGraph ; klms:numClasses ?numClasses . FILTER (?numClasses <= 50) } "
    },
    {
        "question": " Find all workflow executions active during March 2024.",
        "sparql": "SELECT ?workflowExec ?startDate ?endDate WHERE { ?workflowExec a klms:WorkflowExecution ; dcat:startDate ?startDate ; dcat:endDate ?endDate . FILTER ((?startDate <= \"2024-03-31T23:59:59\"^^xsd:dateTime) && (?endDate >= \"2024-03-01T00:00:00\"^^xsd:dateTime) ) } ORDER BY ?startDate "
    },
    {
        "question": " Count of task executions between 2023-06-01 and 2023-12-31.",
        "sparql": "SELECT (COUNT(?taskExec) AS ?totalTasks) WHERE { ?taskExec a klms:TaskExecution ; dcat:startDate ?startDate ; dcat:endDate ?endDate . FILTER ( ?startDate >= \"2023-06-01T00:00:00\"^^xsd:dateTime && ?endDate <= \"2023-12-31T23:59:59\"^^xsd:dateTime ) } "
    },
    {
        "question": " Task executions started and completed in March 2024.",
        "sparql": "SELECT ?taskExec ?startDate ?endDate WHERE { ?taskExec a klms:TaskExecution ; dcat:startDate ?startDate ; dcat:endDate ?endDate . FILTER ( ?startDate >= \"2024-03-01T00:00:00\"^^xsd:dateTime && ?endDate <= \"2024-03-31T23:59:59\"^^xsd:dateTime ) } ORDER BY ?startDate "
    },
    {
        "question": " Workflows tagged \"B2\"",
        "sparql": "SELECT ?workflow WHERE { ?workflow klms:hasTags ?tags . ?tags klms:key \"use-case\" . ?tags klms:value \"B2\" } "
    },
    {
        "question": " Organizations with public+private datasets",
        "sparql": "SELECT DISTINCT ?org WHERE { ?dataset1 dct:publisher ?org; dct:accessRights \"public\". ?dataset2 dct:publisher ?org; dct:accessRights \"private\". } "
    },
    {
        "question": " Users inactive since 2023",
        "sparql": "SELECT ?user WHERE { ?user klms:lastActive ?date. FILTER(?date < \"2024-01-01\"^^xsd:dateTime) } "
    },
    {
        "question": " Find the last login date of kpatro.",
        "sparql": "SELECT ?lastActive WHERE { <http://stelar-project.eu/klms#user/kpatro> klms:lastActive ?lastActive . }"
    }
]